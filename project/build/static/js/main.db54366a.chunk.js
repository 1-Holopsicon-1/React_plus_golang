(this.webpackJsonpforntend=this.webpackJsonpforntend||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var s=n(19),i=n.n(s),c=n(0),a=n.n(c),o=n(21),r=n(10),u=n(11),d=n(13),l=n(12),j=(n(26),n(2)),m=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(j.jsx)("div",{className:"hidden"});return void 0!==this.props.message&&(e=Object(j.jsxs)("div",{id:this.props.dataId,className:"message "+(this.props.dataId!==sessionStorage.getItem("uid")?"notMyMsg":"myMsg"),children:[this.props.message,Object(j.jsx)("span",{className:"msgTime",children:(new Date).getHours()+":"+(new Date).getMinutes()})]})),Object(j.jsx)(j.Fragment,{children:e})}}]),n}(c.Component),b=(n(28),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.chatHistory.map((function(e){return"type"===e.msg.split('"')[1]?Object(j.jsx)(m,{message:"User Joined"}):Object(j.jsx)(m,{dataId:e.msg.split('"')[7],message:e.msg.split('"')[3]})}));return Object(j.jsx)("div",{className:"ChatHistory",children:e})}}]),n}(c.Component)),h=n(16),p=n(39),O=n(40),v=(n(29),n(20)),g=(n(33),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).btnHand=s.btnHand.bind(Object(h.a)(s)),s.inputHand=s.inputHand.bind(Object(h.a)(s)),s}return Object(u.a)(n,[{key:"btnHand",value:function(){var e=document.querySelector("#inpt");""!==e.value&&(this.props.send(e.value),e.value="")}},{key:"inputHand",value:function(e){if("Enter"===e.code){var t=document.querySelector("#inpt");if(""===t.value)return;this.props.send(t.value),t.value=""}}},{key:"emojiToggleHand",value:function(e){document.querySelector(".emojiMarkt").classList.toggle("hidden")}},{key:"emojiHandler",value:function(e,t){document.querySelector("#inpt").value=document.querySelector("#inpt").value+e.native}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"ChatInput",children:[Object(j.jsxs)("div",{className:"emojiAndInput",children:[Object(j.jsx)(p.a,{onClick:this.emojiToggleHand,className:"smile"}),Object(j.jsx)("div",{className:"emojiMarkt hidden",children:Object(j.jsx)(v.a,{theme:"dark",onClick:this.emojiHandler})}),Object(j.jsx)("input",{id:"inpt",placeholder:"Message",onKeyDown:this.inputHand})]}),Object(j.jsx)("div",{id:"btn",onClick:this.btnHand,children:Object(j.jsx)(O.a,{className:"btn_send"})})]})}}]),n}(c.Component)),f=(n(34),function(){return Object(j.jsx)("div",{className:"header",children:Object(j.jsxs)("h2",{children:["Your id - ",sessionStorage.getItem("uid")]})})}),y=new WebSocket("ws://localhost:8080/ws"),x=(n(35),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={chatHistory:[]},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e,t=this,n=new Uint32Array(1),s=window.crypto.getRandomValues(n)[0];sessionStorage.setItem("uid",s),e=function(e){var n=JSON.parse(e),s=n.msg,i=n.uid;void 0===i&&(i=-1),t.setState((function(e){return{chatHistory:[].concat(Object(o.a)(t.state.chatHistory),[{msg:s,uid:i}])}}))},console.log("Attempting Connection..."),y.onopen=function(){console.log("Success")},y.onmessage=function(t){e(t.data)},y.onclose=function(e){console.log("Socket close:",e)},y.onnerror=function(e){console.log("Socket err",e)}}},{key:"send",value:function(e){!function(e){var t={msg:e,uid:sessionStorage.getItem("uid")};y.send(JSON.stringify(t))}(e)}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{}),Object(j.jsxs)("main",{children:[Object(j.jsx)(b,{chatHistory:this.state.chatHistory}),Object(j.jsx)(g,{send:this.send})]})]})}}]),n}(c.Component));n(36);i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.db54366a.chunk.js.map